---
title: commonç›®å½•
date: 2023-05-19 02:09:32
permalink: /pages/e3a691/
---

[ğŸ‘‰ æºç ](https://github.com/969025903/ChopperBot)

[[toc]]

## ConfigFile
::: tip è¯´æ˜
æ‰€æœ‰çš„é…ç½®æ–‡ä»¶æŠ½è±¡ç±»ï¼Œåªè´Ÿè´£æ„å»ºé…ç½®æ–‡ä»¶æœ€åŸºç¡€çš„æ¶æ„ï¼Œä¸€èˆ¬ä¸ç”¨æ¥å­˜æ”¾é…ç½®æ–‡ä»¶æœ¬èº«çš„å†…å®¹ï¼Œ
</br>åŒ…å«æ›´æ–°æ—¶é—´å’Œdataæ•°æ®ï¼Œæœ€åŸºæœ¬çš„æ–‡ä»¶æ ¼å¼å¦‚ä¸‹

```json
{
  "updateTime": "æœ€æ–°æ›´æ–°æ—¶é—´",
  "data": {}
}
```
:::

### æ„é€ ConfigFile
1. ç»§æ‰¿ConfigFileï¼Œå¹¶é€‰æ‹©configFileçš„dataå†…å®¹
2. æ„é€ æ–¹æ³•ä¸­ä½¿ç”¨super() æ¥æ„é€ çˆ¶ç±»
   
| æ„é€ æ–¹æ³•å‚æ•° | è¯´æ˜ |
| :-: | :-: |
| filePath | æ–‡ä»¶è·¯å¾„ |
| fileName | æ–‡ä»¶å |
| data | æ–‡ä»¶éª¨æ¶ |
| fileType | æ–‡ä»¶ç±»å‹ |
```java
public class HelloConfigFile extends ConfigFile<Map> {
    public ModuleSrcConfigFile() {
        super("./config/"
                , "helloConfig.json"
                , new HashMap(), FileType.CHOPPER_BOT);
    }
}
```

## InitMachineğŸš§

::: tip è¯´æ˜
é¡¹ç›®åˆå§‹åŒ–æ¥å£ï¼Œè´Ÿè´£é¡¹ç›®ä¸€å¼€å§‹å°±è¿›è¡Œçš„åˆå§‹åŒ–å·¥ä½œ,ä¹‹åå¯èƒ½ä¼šç”¨@Configruationæ›¿ä»£
:::

### åˆå§‹åŒ–å¯åŠ¨

1. å®ç°InitMachineæ¥å£
```java
public class FileCacheManagerInit implements InitMachine{

    @Override
    public boolean init() {
        FileCacheManagerInstance.getInstance().start();
        return true;
    }
}
```
2. æ·»åŠ åˆ°InitWorldä¸­(Console/ConsoleApplication)
```java
 public static boolean Init(){
        return InitWorld.getInstance()
                .setInitMachines(
                        List.of(
                        new ModuleSrcConfigFileInit(),
                        new FileCacheManagerInit()
                        )
                ).start();
    }
```
